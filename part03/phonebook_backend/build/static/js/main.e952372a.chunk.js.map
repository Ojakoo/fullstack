{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/NameForm.js","components/NumberForm.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","person","removePerson","name","number","onClick","Persons","persons","map","key","id","Filter","handleFilterChange","currentFilter","value","onChange","NameForm","newName","handleNameChange","NumberForm","newNumber","handleNumberChange","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","type","className","App","useState","setPersons","setNewName","setNewNumber","setFilter","errorMessage","setErrorMessage","notErrorMessage","setNotErrorMessage","useEffect","personsService","initialPersons","personsToShow","filter","toUpperCase","includes","event","target","onSubmit","preventDefault","some","window","confirm","personsObject","find","returnedPerson","setTimeout","catch","error","concat","removeName","handle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e952372a.chunk.js","sourcesContent":["\nimport React from 'react'\n\nconst Person = ({person, removePerson}) => {\n    return (\n        <div>\n            {person.name} {person.number} <button onClick={removePerson} >\n                {'delete'}\n            </button>\n        </div>\n    )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({persons, removePerson}) => {\n    return (\n        <div>\n            {persons.map(person => \n                <Person key={person.name} person={person} removePerson={ () => removePerson(person.id)}/>\n            )}\n        </div>\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({handleFilterChange, currentFilter}) => {\n    return (\n        <form>\n            <div>\n            filter shown with: <input\n                value={currentFilter}\n                onChange={handleFilterChange}\n            />\n            </div>\n        </form>\n    )\n}\n\n\nexport default Filter","import React from 'react'\n\nconst NameForm = ({ newName, handleNameChange }) => {\n    return (\n        <div>\n          name: <input \n            value={newName}\n            onChange={handleNameChange}\n          />\n        </div>\n    )\n}\n\nexport default NameForm","import React from 'react'\n\nconst NumberForm = ({ newNumber, handleNumberChange }) => {\n    return (\n        <div>\n          number: <input \n            value={newNumber}\n            onChange={handleNumberChange}\n          />\n        </div>\n    )\n}\n\nexport default NumberForm","import axios from 'axios'\n\nconst baseUrl = 'https://boiling-mesa-47307.herokuapp.com/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n  \nconst add = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n  \nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return  request.then(response => response.data)\n}\n\nexport default { getAll, add, remove, update }","\nimport React from 'react'\n\nconst Notification = ({ message, type }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className={type}>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","\nimport React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport NameForm from './components/NameForm'\nimport NumberForm from './components/NumberForm'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport './App.css'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ currentFilter, setFilter] = useState('')\n  const [ errorMessage, setErrorMessage ] = useState(null) \n  const [ notErrorMessage, setNotErrorMessage ] = useState(null) \n\n  useEffect(() => {\n    personsService \n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n    })\n  }, [])\n\n  const addPersons = (event) => {\n    event.preventDefault()\n\n    if (persons.some( person => person.name === newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const personsObject = {\n          name: newName,\n          number: newNumber,\n        }\n        \n        personsService\n          .update(persons.find(person => person.name === newName).id, personsObject)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson))\n            setNewName('')\n            setNewNumber('')\n            setNotErrorMessage(`changed the number of ${returnedPerson.name}`)\n          })\n          .then( setTimeout(() => {\n              setNotErrorMessage(null)\n            }, 5000)\n          )\n          .catch(error => {\n            setErrorMessage('Update was not successful')\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n          })\n      }  \n    }\n    else {\n      \n      const personsObject = {\n        name: newName,\n        number: newNumber,\n      }\n      \n      personsService\n        .add(personsObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          setNotErrorMessage(`Added ${returnedPerson.name} to phonebook.`)\n        })\n        .then( \n          setTimeout(() => {setNotErrorMessage(null) }, 5000) \n        )\n        .catch(error => {\n          setErrorMessage('Could not add')\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const removePerson = (id) => {\n    if (window.confirm(`Delete ${persons.find(person => person.id === id).name}?`)) {\n      const removeName = persons.find(person => person.id === id).name\n      \n      personsService\n        .remove(id)\n        .then(error => {\n          setNotErrorMessage(`Removed ${removeName} from phonebook.`) \n          setTimeout(() => { setNotErrorMessage(null) }, 5000) \n        })\n        .then(handle => {\n          setPersons(persons.filter(person => person.name !== removeName))\n        })\n        .catch(error => {\n          setErrorMessage(`Could not remove ${removeName}`)\n          setTimeout(() => { \n            setErrorMessage(null) \n          }, 5000)}\n        )\n    }\n    \n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value)\n  }\n\n  const personsToShow = currentFilter === ''\n  ? persons\n  : persons.filter(person => person.name.toUpperCase().includes(currentFilter.toUpperCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} type='errorBad'/>\n      <Notification message={notErrorMessage} type='errorGood' />\n      <Filter handleFilterChange={handleFilterChange} currentFilter={currentFilter} />\n      <h2>add a new</h2>\n      <form onSubmit={addPersons}>\n        <NameForm newName={newName} handleNameChange={handleNameChange} />\n        <NumberForm newNumber={newNumber} handleNumberChange={handleNumberChange} />\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} removePerson={removePerson}/>\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}